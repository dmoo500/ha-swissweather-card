<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwissMeteo Card Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f0f2f5;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .demo-card {
            max-width: 500px;
            margin: 20px auto;
        }
        .info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>SwissMeteo Card Demo</h1>
        
        <div class="info">
            <h3>Demo-Modus</h3>
            <p>Diese Demo zeigt die SwissMeteo Card mit simulierten Daten. In Home Assistant w端rde die Card echte Wetterdaten aus Ihren konfigurierten Entities anzeigen.</p>
        </div>

        <div class="demo-card">
            <swissmeteo-card id="demo-card"></swissmeteo-card>
        </div>
    </div>

    <script type="module" src="swissmeteo-card.js"></script>
    <script>
        // Simulate Home Assistant environment for demo
        document.addEventListener('DOMContentLoaded', function() {
            const demoCard = document.getElementById('demo-card');
            
            // Mock Home Assistant object
            const mockHass = {
                states: {
                    'weather.demo': {
                        state: 'sunny',
                        attributes: {
                            temperature: 22,
                            humidity: 65,
                            pressure: 1013,
                            wind_speed: 12,
                            wind_bearing: 225,
                            visibility: 10,
                            forecast: [
                                {
                                    datetime: new Date().toISOString(),
                                    condition: 'sunny',
                                    temperature: 24,
                                    templow: 15
                                },
                                {
                                    datetime: new Date(Date.now() + 86400000).toISOString(),
                                    condition: 'partlycloudy',
                                    temperature: 21,
                                    templow: 12
                                },
                                {
                                    datetime: new Date(Date.now() + 2 * 86400000).toISOString(),
                                    condition: 'rainy',
                                    temperature: 18,
                                    templow: 10
                                }
                            ]
                        }
                    }
                }
            };

            // Mock configuration
            const mockConfig = {
                entity: 'weather.demo',
                location: 'Z端rich',
                show_forecast: true,
                show_precipitation: true
            };

            // Wait for custom element to be defined
            customElements.whenDefined('swissmeteo-card').then(() => {
                demoCard.hass = mockHass;
                demoCard.setConfig(mockConfig);
            });
        });
    </script>
    <script>
        // Mock HASS object for demo
        const mockHass = {
            states: {
                'weather.home': {
                    state: 'sunny',
                    attributes: {
                        temperature: 23,
                        humidity: 65,
                        pressure: 1013,
                        wind_speed: 12,
                        wind_bearing: 180,
                        visibility: 25,
                        forecast: [
                            {
                                datetime: new Date().toISOString(),
                                condition: 'sunny',
                                temperature: 25,
                                templow: 15
                            },
                            {
                                datetime: new Date(Date.now() + 86400000).toISOString(),
                                condition: 'partlycloudy',
                                temperature: 22,
                                templow: 12
                            },
                            {
                                datetime: new Date(Date.now() + 2*86400000).toISOString(),
                                condition: 'rainy',
                                temperature: 18,
                                templow: 10
                            },
                            {
                                datetime: new Date(Date.now() + 3*86400000).toISOString(),
                                condition: 'cloudy',
                                temperature: 20,
                                templow: 11
                            },
                            {
                                datetime: new Date(Date.now() + 4*86400000).toISOString(),
                                condition: 'sunny',
                                temperature: 24,
                                templow: 14
                            },
                            {
                                datetime: new Date(Date.now() + 5*86400000).toISOString(),
                                condition: 'partlycloudy',
                                temperature: 21,
                                templow: 13
                            },
                            {
                                datetime: new Date(Date.now() + 6*86400000).toISOString(),
                                condition: 'lightning-rainy',
                                temperature: 19,
                                templow: 9
                            }
                        ]
                    }
                },
                'sensor.sunshine_duration': {
                    state: '6.5'
                },
                'sensor.meteoswiss_warnings': {
                    attributes: {
                        warnings: [
                            {
                                level: 2,
                                description: 'Gewittergefahr f端r heute Nachmittag'
                            }
                        ]
                    }
                }
            }
        };

        const mockConfig = {
            entity: 'weather.home',
            location: 'Z端rich',
            sunshine_entity: 'sensor.sunshine_duration',
            warning_entity: 'sensor.meteoswiss_warnings',
            show_forecast: true,
            show_precipitation: true
        };

        // Wait for the element to be defined
        customElements.whenDefined('swissmeteo-card').then(() => {
            const card = document.getElementById('demo-card');
            card.hass = mockHass;
            card.setConfig(mockConfig);
        });
    </script>
</body>
</html>
